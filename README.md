構成


# for_cron
サーバーで自動的にモザイクアートを構成する画像情報を集めるためのファイルが置かれている

## analyze_color.php
データベース内にある画像の中で，まだ画像の色情報がないものを取得して，それらを解析して画像全体のRGB値を求め，それをデータベースに上書きする．
もし，その画像がなんらかの原因で参照できない場合，無視する．
そのためにmax_id.txtが必要となる．

## gather.php
Instagramからいいねが多く押されているポピュラー画像を取得し，データベースに挿入する．

## max_id.txt
このファイルにはデータベース内の画像のどこまで色の解析が終わっているかを表示してある．
手動で書き換えることはしない．

# template_files
このアプリケーションのテンプレート部分が置かれている．
それぞれのtplファイルは同じ名前のPHPファイルの出力先になっている．

## show_images.tpl
認証されたユーザの投稿画像を受け取り，ラジオボタンで選択できるような形式にして表示する．
ユーザはこの中から一つを選び，「変換する」のボタンを押すことで，実際に変換する．

## mosaic.tpl
受け取った画像URLの2次元配列を表示する．
CSSでマウスが乗った画像は拡大するようにしてある．


# index.php
アプリケーションを起動して，最初の画面
単純なものなので，テンプレートエンジンを使う必要がないと感じたため，ここはHTMLがじかに書いてある

# login.php
InstagramのOAuth認証を行うためのファイル，ユーザに表示するものはない．

# mosaic.php
このアプリケーションのメイン部分．
show_images.phpで選ばれた画像を実際にモザイクアートに変換する．
テンプレートファイルには，画像のURLの2次元配列を渡す．
元画像と比較できるように，元画像のURLもテンプレートファイルに渡す．

# show_images.php
認証した後，ユーザにどの画像をモザイクアートにするかを選ばせるためのもの．
中ではユーザの投稿画像を取得し，小さいサムネイル画像をテンプレートファイルに渡して表示させ，大きい画像をSESSIONでmosaic.phpと共有する．
これで番号でユーザがどの画像を選んだかがわかる．